{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/umang/vividseats/lib/fetchEvents.js"],"sourcesContent":["export async function fetchEvents(keyword = \"\", city = \"\", sort = \"\", page = 0) {\r\n  const API_KEY = process.env.NEXT_PUBLIC_TICKETMASTER_API_KEY;\r\n\r\n  const URL =\r\n    `https://app.ticketmaster.com/discovery/v2/events.json?apikey=${API_KEY}` +\r\n    `&keyword=${keyword}` +\r\n    `&city=${city}` +\r\n    `&sort=${sort}` +\r\n    `&page=${page}` +\r\n    `&size=20`;\r\n\r\n  console.log(\"Requesting:\", URL); // debug\r\n\r\n  try {\r\n    const res = await fetch(URL);\r\n\r\n    if (!res.ok) {\r\n      console.error(\"Event list API error:\", res.status);\r\n      return [];\r\n    }\r\n\r\n    const data = await res.json();\r\n    return data._embedded?.events || [];\r\n  } catch (err) {\r\n    console.error(\"fetchEvents error:\", err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function fetchEventDetails(id) {\r\n  const API_KEY = process.env.NEXT_PUBLIC_TICKETMASTER_API_KEY;\r\n\r\n  const URL = `https://app.ticketmaster.com/discovery/v2/events/${id}.json?apikey=${API_KEY}`;\r\n\r\n  try {\r\n    const res = await fetch(URL);\r\n\r\n    if (!res.ok) {\r\n      console.error(\"Event details API error:\", res.status);\r\n      return null;\r\n    }\r\n\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (err) {\r\n    console.error(\"fetchEventDetails error:\", err);\r\n    return null;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAO,eAAe,YAAY,UAAU,EAAE,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,OAAO,CAAC;IAC5E,MAAM;IAEN,MAAM,MACJ,CAAC,6DAA6D,EAAE,SAAS,GACzE,CAAC,SAAS,EAAE,SAAS,GACrB,CAAC,MAAM,EAAE,MAAM,GACf,CAAC,MAAM,EAAE,MAAM,GACf,CAAC,MAAM,EAAE,MAAM,GACf,CAAC,QAAQ,CAAC;IAEZ,QAAQ,GAAG,CAAC,eAAe,MAAM,QAAQ;IAEzC,IAAI;QACF,MAAM,MAAM,MAAM,MAAM;QAExB,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,QAAQ,KAAK,CAAC,yBAAyB,IAAI,MAAM;YACjD,OAAO,EAAE;QACX;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,KAAK,SAAS,EAAE,UAAU,EAAE;IACrC,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,EAAE;IACX;AACF;AAEO,eAAe,kBAAkB,EAAE;IACxC,MAAM;IAEN,MAAM,MAAM,CAAC,iDAAiD,EAAE,GAAG,aAAa,EAAE,SAAS;IAE3F,IAAI;QACF,MAAM,MAAM,MAAM,MAAM;QAExB,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,QAAQ,KAAK,CAAC,4BAA4B,IAAI,MAAM;YACpD,OAAO;QACT;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO;IACT,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;IACT;AACF"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/umang/vividseats/pages/events/%5Bid%5D.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport Link from \"next/link\";\r\nimport { fetchEventDetails, fetchEvents } from \"../../lib/fetchEvents\";\r\n\r\nexport default function EventDetails() {\r\n  const router = useRouter();\r\n  const { id } = router.query;\r\n\r\n  const [event, setEvent] = useState(null);\r\n  const [related, setRelated] = useState([]);\r\n  const [ticketCount, setTicketCount] = useState(1);\r\n\r\n  // Pricing Engine States\r\n  const [selectedZone, setSelectedZone] = useState(\"Standard\");\r\n  const [basePrice, setBasePrice] = useState(0);\r\n  const [finalPrice, setFinalPrice] = useState(0);\r\n\r\n  // Pricing Map\r\n  const priceTable = {\r\n    VIP: 6500,\r\n    Premium: 4500,\r\n    Standard: 2500,\r\n    Balcony: 1800,\r\n    Economy: 1200,\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!id) return;\r\n    loadEvent();\r\n  }, [id]);\r\n\r\n  async function loadEvent() {\r\n    const details = await fetchEventDetails(id);\r\n    setEvent(details);\r\n\r\n    if (details?.name) {\r\n      const similar = await fetchEvents(details.name.split(\" \")[0]);\r\n      setRelated(similar.slice(0, 4));\r\n    }\r\n\r\n    generatePrice();\r\n  }\r\n\r\n  // Pricing Engine (Demand Based)\r\n  function generatePrice(zone = \"Standard\", count = 1) {\r\n    const base = priceTable[zone];\r\n\r\n    // Demand-based multiplier (random)\r\n    const demandMultiplier = 1 + Math.random() * 0.7; // 1.0 to 1.7\r\n\r\n    // Final price calculation\r\n    const calculated = Math.floor(base * demandMultiplier * count);\r\n\r\n    setBasePrice(base);\r\n    setFinalPrice(calculated);\r\n  }\r\n\r\n  function changeZone(zone) {\r\n    setSelectedZone(zone);\r\n    generatePrice(zone, ticketCount);\r\n  }\r\n\r\n  function changeCount(type) {\r\n    let updatedCount = ticketCount;\r\n\r\n    if (type === \"minus\" && ticketCount > 1) updatedCount--;\r\n    if (type === \"plus\") updatedCount++;\r\n\r\n    setTicketCount(updatedCount);\r\n    generatePrice(selectedZone, updatedCount);\r\n  }\r\n\r\n  if (!event) {\r\n    return (\r\n      <div className=\"text-white text-center mt-20 text-lg\">\r\n        Loading event details...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900 text-white pb-20\">\r\n\r\n      {/* Hero Image */}\r\n      <div className=\"w-full h-80 relative\">\r\n        <img\r\n          src={event.images?.[0]?.url}\r\n          className=\"w-full h-full object-cover opacity-60\"\r\n        />\r\n        <div className=\"absolute inset-0 flex flex-col justify-center items-center\">\r\n          <h1 className=\"text-4xl font-bold text-center\">{event.name}</h1>\r\n          <p className=\"text-gray-300 mt-2\">\r\n            {event.dates?.start?.localDate} • {event._embedded?.venues?.[0]?.name}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-6xl mx-auto px-6 mt-10 grid grid-cols-1 md:grid-cols-3 gap-10\">\r\n\r\n        {/* LEFT SIDE */}\r\n        <div className=\"md:col-span-2\">\r\n\r\n          <div className=\"flex items-center gap-1 text-yellow-400 text-xl mb-3\">\r\n            ⭐⭐⭐⭐☆ <span className=\"text-gray-400 text-sm ml-2\">(4.5 Reviews)</span>\r\n          </div>\r\n\r\n          <h2 className=\"text-2xl font-semibold mb-4\">Event Information</h2>\r\n\r\n          <p className=\"text-gray-300 leading-relaxed\">\r\n            {event.info || \"No description available for this event.\"}\r\n          </p>\r\n\r\n          {/* Seating Chart */}\r\n          <div className=\"mt-10\">\r\n            <h3 className=\"text-xl font-semibold mb-3\">Seating Chart</h3>\r\n\r\n            <div className=\"bg-gray-800 p-6 rounded-xl\">\r\n\r\n              <div className=\"flex justify-center my-4\">\r\n                <div className=\"rounded-full bg-gray-700 w-40 h-40 flex items-center justify-center text-gray-300\">\r\n                  STAGE\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-3 gap-3 mt-6\">\r\n                {Object.keys(priceTable).map((zone) => (\r\n                  <div\r\n                    key={zone}\r\n                    onClick={() => changeZone(zone)}\r\n                    className={`p-4 text-center rounded-lg cursor-pointer transition \r\n                      ${selectedZone === zone ? \"bg-blue-600\" : \"bg-gray-700 hover:bg-gray-600\"}\r\n                    `}\r\n                  >\r\n                    {zone}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        {/* RIGHT SIDE — Pricing */}\r\n        <div className=\"bg-gray-800 p-6 rounded-xl sticky top-20 h-fit\">\r\n\r\n          <h2 className=\"text-2xl font-semibold mb-4\">Buy Tickets</h2>\r\n\r\n          <p className=\"text-gray-300\">Selected Zone: <b>{selectedZone}</b></p>\r\n          <p className=\"text-green-400 text-xl font-bold mt-2\">\r\n            ₹{finalPrice}\r\n          </p>\r\n\r\n          {/* Ticket Counter */}\r\n          <div className=\"flex items-center gap-4 mt-4\">\r\n            <button\r\n              className=\"bg-gray-700 px-3 py-1 rounded-lg text-xl\"\r\n              onClick={() => changeCount(\"minus\")}\r\n            >\r\n              −\r\n            </button>\r\n\r\n            <span className=\"text-lg\">{ticketCount}</span>\r\n\r\n            <button\r\n              className=\"bg-gray-700 px-3 py-1 rounded-lg text-xl\"\r\n              onClick={() => changeCount(\"plus\")}\r\n            >\r\n              +\r\n            </button>\r\n          </div>\r\n\r\n          {/* Buy Button */}\r\n          <button className=\"w-full mt-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-lg text-lg font-semibold\">\r\n            Buy Tickets\r\n          </button>\r\n\r\n          <p className=\"text-yellow-400 text-sm mt-3\">\r\n            ⚠ Prices vary based on demand & seat zone\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Related Events */}\r\n      {related.length > 0 && (\r\n        <div className=\"max-w-6xl mx-auto px-6 mt-16\">\r\n          <h2 className=\"text-2xl font-semibold mb-4\">Related Events</h2>\r\n\r\n          <div className=\"grid sm:grid-cols-2 md:grid-cols-4 gap-8\">\r\n            {related.map((ev) => (\r\n              <Link key={ev.id} href={`/events/${ev.id}`}>\r\n                <div className=\"bg-gray-800 p-4 rounded-xl hover:scale-105 transition cursor-pointer\">\r\n                  <img\r\n                    src={ev.images?.[0]?.url}\r\n                    className=\"w-full h-40 object-cover rounded-lg\"\r\n                  />\r\n                  <h3 className=\"mt-3 font-semibold\">{ev.name}</h3>\r\n                  <p className=\"text-gray-400 text-sm\">\r\n                    {ev.dates?.start?.localDate}\r\n                  </p>\r\n                </div>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}