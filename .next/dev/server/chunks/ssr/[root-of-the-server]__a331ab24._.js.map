{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/umang/vividseats/lib/fetchEvents.js"],"sourcesContent":["export async function fetchEvents(keyword = \"\", city = \"\", sort = \"\", page = 0) {\r\n  const API_KEY = process.env.NEXT_PUBLIC_TICKETMASTER_API_KEY;\r\n\r\n  const URL =\r\n    `https://app.ticketmaster.com/discovery/v2/events.json?apikey=${API_KEY}` +\r\n    `&keyword=${keyword}` +\r\n    `&city=${city}` +\r\n    `&sort=${sort}` +\r\n    `&page=${page}` +\r\n    `&size=20`;\r\n\r\n  console.log(\"Requesting:\", URL); // debug\r\n\r\n  try {\r\n    const res = await fetch(URL);\r\n\r\n    if (!res.ok) {\r\n      console.error(\"Event list API error:\", res.status);\r\n      return [];\r\n    }\r\n\r\n    const data = await res.json();\r\n    return data._embedded?.events || [];\r\n  } catch (err) {\r\n    console.error(\"fetchEvents error:\", err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function fetchEventDetails(id) {\r\n  const API_KEY = process.env.NEXT_PUBLIC_TICKETMASTER_API_KEY;\r\n\r\n  const URL = `https://app.ticketmaster.com/discovery/v2/events/${id}.json?apikey=${API_KEY}`;\r\n\r\n  try {\r\n    const res = await fetch(URL);\r\n\r\n    if (!res.ok) {\r\n      console.error(\"Event details API error:\", res.status);\r\n      return null;\r\n    }\r\n\r\n    const data = await res.json();\r\n    return data;\r\n  } catch (err) {\r\n    console.error(\"fetchEventDetails error:\", err);\r\n    return null;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAO,eAAe,YAAY,UAAU,EAAE,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,OAAO,CAAC;IAC5E,MAAM;IAEN,MAAM,MACJ,CAAC,6DAA6D,EAAE,SAAS,GACzE,CAAC,SAAS,EAAE,SAAS,GACrB,CAAC,MAAM,EAAE,MAAM,GACf,CAAC,MAAM,EAAE,MAAM,GACf,CAAC,MAAM,EAAE,MAAM,GACf,CAAC,QAAQ,CAAC;IAEZ,QAAQ,GAAG,CAAC,eAAe,MAAM,QAAQ;IAEzC,IAAI;QACF,MAAM,MAAM,MAAM,MAAM;QAExB,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,QAAQ,KAAK,CAAC,yBAAyB,IAAI,MAAM;YACjD,OAAO,EAAE;QACX;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,KAAK,SAAS,EAAE,UAAU,EAAE;IACrC,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,EAAE;IACX;AACF;AAEO,eAAe,kBAAkB,EAAE;IACxC,MAAM;IAEN,MAAM,MAAM,CAAC,iDAAiD,EAAE,GAAG,aAAa,EAAE,SAAS;IAE3F,IAAI;QACF,MAAM,MAAM,MAAM,MAAM;QAExB,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,QAAQ,KAAK,CAAC,4BAA4B,IAAI,MAAM;YACpD,OAAO;QACT;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO;IACT,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO;IACT;AACF"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/umang/vividseats/pages/events.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { fetchEvents } from \"../lib/fetchEvents\";\r\n\r\nexport default function EventsPage() {\r\n  const [events, setEvents] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadEvents();\r\n  }, []);\r\n\r\n  async function loadEvents(keyword = \"\") {\r\n    const data = await fetchEvents(keyword);\r\n    setEvents(data || []);\r\n  }\r\n\r\n  // Autocomplete search\r\n  async function handleSearchInput(value) {\r\n    setSearch(value);\r\n\r\n    if (!value.trim()) {\r\n      setSuggestions([]);\r\n      setShowDropdown(false);\r\n      return;\r\n    }\r\n\r\n    const result = await fetchEvents(value);\r\n    setSuggestions(result.slice(0, 5));\r\n    setShowDropdown(true);\r\n  }\r\n\r\n  function handleSelectSuggestion(name) {\r\n    setSearch(name);\r\n    loadEvents(name);\r\n    setShowDropdown(false);\r\n  }\r\n\r\n  // Category Filters\r\n  const categories = [\r\n    \"Sports\",\r\n    \"Concert\",\r\n    \"Comedy\",\r\n    \"Arts & Theatre\",\r\n    \"Family\",\r\n    \"Music\",\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900 text-white px-6 py-10\">\r\n\r\n      <h1 className=\"text-4xl font-bold text-center mb-8\">Events</h1>\r\n\r\n      {/* Category Filters */}\r\n      <div className=\"flex flex-wrap justify-center gap-3 mb-6\">\r\n        {categories.map((cat) => (\r\n          <button\r\n            key={cat}\r\n            onClick={() => loadEvents(cat)}\r\n            className=\"px-4 py-2 bg-gray-800 border border-gray-700 hover:border-blue-500 rounded-full text-sm transition\"\r\n          >\r\n            {cat}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Search Box + Autocomplete */}\r\n      <div className=\"max-w-xl mx-auto relative\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search events...\"\r\n          value={search}\r\n          onChange={(e) => handleSearchInput(e.target.value)}\r\n          className=\"w-full p-3 rounded-xl bg-gray-800 border border-gray-700 focus:border-blue-500 outline-none\"\r\n        />\r\n\r\n        {showDropdown && suggestions.length > 0 && (\r\n          <ul className=\"absolute w-full bg-gray-800 border border-gray-700 mt-2 rounded-xl shadow-xl z-50\">\r\n            {suggestions.map((event) => (\r\n              <li\r\n                key={event.id}\r\n                onClick={() => handleSelectSuggestion(event.name)}\r\n                className=\"p-3 hover:bg-gray-700 cursor-pointer\"\r\n              >\r\n                {event.name}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n\r\n      {/* Events Grid */}\r\n      <div className=\"grid sm:grid-cols-2 md:grid-cols-3 gap-8 mt-10\">\r\n        {Array.isArray(events) && events.length > 0 ? (\r\n          events.map((event) => (\r\n            <div\r\n              key={event.id}\r\n              className=\"bg-gray-800 p-4 rounded-xl shadow hover:shadow-blue-500/30 transition\"\r\n            >\r\n              {/* Image */}\r\n              <img\r\n                src={event.images?.[0]?.url}\r\n                className=\"w-full h-48 object-cover rounded-lg\"\r\n                alt={event.name}\r\n              />\r\n\r\n              {/* Name */}\r\n              <h2 className=\"text-xl font-semibold mt-4\">{event.name}</h2>\r\n\r\n              {/* Date */}\r\n              <p className=\"text-gray-400 mt-1\">\r\n                {event.dates?.start?.localDate || \"No date available\"}\r\n              </p>\r\n\r\n              {/* ‚≠ê Ratings */}\r\n              <div className=\"flex items-center gap-1 mt-2 text-yellow-400\">\r\n                ‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ <span className=\"text-gray-300 ml-1 text-sm\">(4.2)</span>\r\n              </div>\r\n\r\n              {/* üí∞ Pricing */}\r\n              <p className=\"mt-2 text-green-400 font-semibold text-lg\">\r\n                Starting from ‚Çπ{Math.floor(Math.random() * (4500 - 800) + 800)}\r\n              </p>\r\n\r\n              {/* üéüÔ∏è Ticket Status */}\r\n              <p className=\"text-sm mt-1\">\r\n                {(() => {\r\n                  const r = Math.random();\r\n                  if (r < 0.33)\r\n                    return <span className=\"text-green-400\">‚óè Available</span>;\r\n                  if (r < 0.66)\r\n                    return <span className=\"text-yellow-400\">‚óè Limited Seats</span>;\r\n                  return <span className=\"text-red-400\">‚óè Sold Out</span>;\r\n                })()}\r\n              </p>\r\n\r\n              {/* Button */}\r\n              <Link href={`/events/${event.id}`}>\r\n                <button className=\"mt-4 w-full py-2 bg-blue-600 hover:bg-blue-500 rounded-lg\">\r\n                  View Details\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"col-span-full text-gray-400 text-center\">\r\n            No events found.\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}